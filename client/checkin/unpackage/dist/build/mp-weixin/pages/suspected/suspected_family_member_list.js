(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/suspected/suspected_family_member_list"],{"7d05":function(e,t,a){"use strict";a.r(t);var i=a("ebc5"),s=a("c0ce");for(var n in s)"default"!==n&&function(e){a.d(t,e,(function(){return s[e]}))}(n);var l,o=a("f0c5"),c=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],l);t["default"]=c.exports},9883:function(e,t,a){"use strict";(function(e){a("e072");i(a("66fd"));var t=i(a("7d05"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},c0ce:function(e,t,a){"use strict";a.r(t);var i=a("ccdb"),s=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},ccdb:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{member_list:[],family_meneber_num:0}},onLoad:function(t){if(console.log("==1111"),console.log(t),void 0!==t.familyInfo){var a=JSON.parse(t.familyInfo);this.member_list=a.family_member_list,console.log(this.member_list)}else if(this.member_list=getApp().globalData.member_list_info,void 0==this.member_list||0==this.member_list.length){console.log("家庭成员为空，手动填写"),this.family_meneber_num=e.getStorageSync(getApp().globalData.key_family_num);for(var i=0;i<this.family_meneber_num;i++){var s={name:"",gender:"",age:"",nation:"",id_num:"",tel_num:"",address:e.getStorageSync(getApp().globalData.key_address),work_place:"",has_disease_radio:"",disease_index:-1,disease_name:"",should_show_other_disease:!1,medicine_name:"",has_take_medicine_radio:""};this.member_list.push(s)}}else console.log("家庭成员为非空，展示已有的")},methods:{goToModifyInfo:function(t,a){console.log(a),e.navigateTo({url:"suspected_family_info?member_index="+a})},checkBtnEnable:function(){console.log(this.family_num),this.isEmpty(this.family_contact)||this.family_num<=0||this.isEmpty(this.tel_num)||this.isEmpty(this.address)?this.btn_disabled=!0:this.btn_disabled=!1},onSubmit:function(){for(var t=!0,a=0;a<this.member_list.length;a++){var i=this.member_list[a];if(this.isEmpty(i.name)){t=!1;break}}if(t){e.showLoading({title:"正在提交..."});var s={family_contact_name:e.getStorageSync(getApp().globalData.key_family_contact),family_tel_num:e.getStorageSync(getApp().globalData.key_tel),family_address:e.getStorageSync(getApp().globalData.key_address),family_member_num:e.getStorageSync(getApp().globalData.key_family_num),family_member_list:JSON.stringify(this.member_list)};this.requestWithMethod(getApp().globalData.api_create_family_info,"POST",s,this.successCallback,this.failCallback,this.completeCallback)}else this.showToast("请完善家庭成员信息后再提交")},successCallback:function(t){e.hideLoading(),0===t.data.error?(e.showToast({title:"提交成功"}),e.requestSubscribeMessage({tmplIds:["UUIzbUHXPhqQC5S3ujtGVE-5uta4PPTAilKewh9sf9o"],success:function(e){console.log("subscribe msg: "),console.log(e)}}),e.navigateTo({url:"./family_index"})):e.showToast({icon:"none",title:t.data.msg})},failCallback:function(t){e.hideLoading(),this.showToast(t),console.log("api_create_family_info failed",t)},completeCallback:function(e){}}};t.default=a}).call(this,a("543d")["default"])},ebc5:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var s=function(){var e=this,t=e.$createElement;e._self._c},n=[]}},[["9883","common/runtime","common/vendor"]]]);