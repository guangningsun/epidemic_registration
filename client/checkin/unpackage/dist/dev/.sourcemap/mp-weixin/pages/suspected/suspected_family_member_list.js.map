{"version":3,"sources":["uni-app:///main.js","webpack:////Users/victor/HBuilderProjects/checkin-git/epidemic_registration/client/checkin/pages/suspected/suspected_family_member_list.vue?3bc4","webpack:////Users/victor/HBuilderProjects/checkin-git/epidemic_registration/client/checkin/pages/suspected/suspected_family_member_list.vue?663a","webpack:////Users/victor/HBuilderProjects/checkin-git/epidemic_registration/client/checkin/pages/suspected/suspected_family_member_list.vue?6814","webpack:////Users/victor/HBuilderProjects/checkin-git/epidemic_registration/client/checkin/pages/suspected/suspected_family_member_list.vue?feb9","uni-app:///pages/suspected/suspected_family_member_list.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8I;AACAA,UAAU,CAACC,qCAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAyI;AACzI;AACgF;AACL;;;AAG3E;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,kGAAM;AACR,EAAE,uGAAM;AACR,EAAE,gHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAw3B,CAAgB,0zBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0C54B;AACA,MADA,kBACA;AACA;AACA,qBADA;AAEA,2BAFA;;AAIA,GANA;;AAQA,QARA,kBAQA,MARA,EAQA;AACA;AACA;AACA;AACA;AACA;AACA,KAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,sBAFA;AAGA,mBAHA;AAIA,sBAJA;AAKA,sBALA;AAMA,uBANA;AAOA,wEAPA;AAQA,0BARA;;AAUA,iCAVA;AAWA,6BAXA;AAYA,4BAZA;AAaA,4CAbA;;AAeA,6BAfA;AAgBA,uCAhBA;;AAkBA;AACA;AACA,OAxBA;AAyBA;AACA;AACA;AACA;AACA,GA9CA;;AAgDA;AACA,kBADA,0BACA,CADA,EACA,KADA,EACA;AACA;AACA;AACA,0DADA;;AAGA,KANA;;;AASA;;AAEA,kBAXA,4BAWA;AACA;AACA;AACA;AACA,0BADA;AAEA,gCAFA;AAGA,gCAJA;AAKA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA,KAvBA;AAwBA,YAxBA,sBAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBADA;;;AAIA;AACA,uFADA;AAEA,uEAFA;AAGA,2EAHA;AAIA,iFAJA;AAKA,4DALA;;;AAQA;AACA,gDADA;AAEA,YAFA;AAGA,YAHA;AAIA,0BAJA;AAKA,uBALA;AAMA,2BANA;AAOA,KA3DA;AA4DA,mBA5DA,2BA4DA,GA5DA,EA4DA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA,kEADA;AAEA,iBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA,WALA;;AAOA;AACA,+BADA;;AAGA,OAdA,MAcA;AACA;AACA,uBADA;;AAGA;AACA,KAjFA;AAkFA,gBAlFA,wBAkFA,GAlFA,EAkFA;AACA;AACA;AACA;AACA,KAtFA;AAuFA,oBAvFA,4BAuFA,GAvFA,EAuFA,EAvFA,EAhDA,E","file":"pages/suspected/suspected_family_member_list.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/suspected/suspected_family_member_list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./suspected_family_member_list.vue?vue&type=template&id=24fca3ba&\"\nvar renderjs\nimport script from \"./suspected_family_member_list.vue?vue&type=script&lang=js&\"\nexport * from \"./suspected_family_member_list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/suspected/suspected_family_member_list.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./suspected_family_member_list.vue?vue&type=template&id=24fca3ba&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./suspected_family_member_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./suspected_family_member_list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom bgColor=\"bg-gradual-blue\" :isBack=\"true\">\r\n\t\t\t<block slot=\"content\">家庭成员</block>\r\n\t\t</cu-custom>\n\t\t\n\t\t<view class=\"cu-card\" v-for=\"(item, index) in member_list\" :key=\"index\" @tap=\"goToModifyInfo(item, index)\">\n\t\t\t<view class=\"cu-item\" style=\"margin-bottom: -10upx;\">\n\t\t\t\t<view class=\" cu-list menu-avatar\" >\n\t\t\t\t\t<view class=\"cu-item padding-left\" style=\"height: 200upx;\">\n\t\t\t\t\t\t<view class=\"cu-avatar lg margin-left-sm bg-white\">\n\t\t\t\t\t\t\t<image\n\t\t\t\t\t\t\t\t:src=\"item.gender == undefined || item.gender == null || item.gender == '' ? '/static/defaulthead.png' : item.gender == '男' ? '/static/headm.png' : '/static/headf.png'\"\n\t\t\t\t\t\t\t\tstyle=\"width: 120upx; height: 100upx;\"\n\t\t\t\t\t\t\t></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"content4\" style=\"width: calc(100% - 220upx);\">\n\t\t\t\t\t\t\t<view class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t<view class=\"title text-lg\">{{item.name == undefined || item.name == null || item.name == \"\" ? '成员姓名' : item.name}}</view>\n\t\t\t\t\t\t\t\t<view class=\"xl cuIcon-write\"></view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"text-grey \">\n\t\t\t\t\t\t\t\t{{item.gender == undefined || item.gender == null || item.gender == \"\" ? '基本信息（待填写）' : item.gender + ' | ' + item.age + '岁 | ' + item.tel_num}}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"justify-between bottom-box\">\n\t\t\t<view class=\"padding flex flex-direction\">\n\t\t\t\t<button class=\"cu-btn bg-blue lg\" :disabled=\"btn_disabled\" @click=\"onSubmit\">\n\t\t\t\t\t完成\n\t\t\t\t</button>\n\t\t\t</view>\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmember_list:[],\n\t\t\tfamily_meneber_num : 0\r\n\t\t};\r\n\t},\r\n\r\n\tonLoad(option) {\n\t\tconsole.log(option)\n\t\tif(option.memberListInfo !== undefined){\n\t\t\tlet info = JSON.parse(decodeURIComponent(option.memberListInfo));\n\t\t\tthis.member_list = info;\n\t\t\tconsole.log(this.member_list);\n\t\t}\n\t\telse{\n\t\t\tthis.member_list = getApp().globalData.member_list_info;\n\t\t\tif(this.member_list == undefined || this.member_list.length == 0){\n\t\t\t\tconsole.log(\"家庭成员为空，手动填写\");\n\t\t\t\tthis.family_meneber_num = uni.getStorageSync(getApp().globalData.key_family_num);\n\t\t\t\tfor(var i = 0; i < this.family_meneber_num; i++){\n\t\t\t\t\tvar memberInfo = {\n\t\t\t\t\t\tname:\"\",\n\t\t\t\t\t\tgender:\"\",\n\t\t\t\t\t\tage:\"\",\n\t\t\t\t\t\tnation:\"\",\n\t\t\t\t\t\tid_num:\"\",\n\t\t\t\t\t\ttel_num:\"\",\n\t\t\t\t\t\taddress:uni.getStorageSync(getApp().globalData.key_address),\n\t\t\t\t\t\twork_place:\"\",\n\t\t\t\t\t\t\n\t\t\t\t\t\thas_disease_radio:\"\",\n\t\t\t\t\t\tdisease_index:-1,\n\t\t\t\t\t\tdisease_name:\"\",\n\t\t\t\t\t\tshould_show_other_disease:false,\n\t\t\t\t\t\t\n\t\t\t\t\t\tmedicine_name:\"\",\n\t\t\t\t\t\thas_take_medicine_radio:\"\"\n\t\t\t\t\t}\n\t\t\t\t\tthis.member_list.push(memberInfo);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(\"家庭成员为非空，展示已有的\");\n\t\t\t}\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\n\t\tgoToModifyInfo(e, index) {\n\t\t\tconsole.log(index);\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'suspected_family_info?member_index=' + index\n\t\t\t})\n\t\t},\n\t\r\n\r\n\t\t////////////////////\r\n\r\n\t\tcheckBtnEnable() {\n\t\t\tconsole.log(this.family_num);\r\n\t\t\tif (\r\n\t\t\t\tthis.isEmpty(this.family_contact) ||\n\t\t\t\tthis.family_num <= 0 ||\n\t\t\t\tthis.isEmpty(this.tel_num) ||\r\n\t\t\t\tthis.isEmpty(this.address)\r\n\t\t\t) {\r\n\t\t\t\tthis.btn_disabled = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.btn_disabled = false;\r\n\t\t\t}\r\n\t\t},\n\t\tonSubmit(){\n\t\t\t\n\t\t\tvar valid = true;\n\t\t\tfor(var i = 0; i < this.member_list.length; i++){\n\t\t\t\tvar temp = this.member_list[i];\n\t\t\t\tif(this.isEmpty(temp.name)){\n\t\t\t\t\tvalid = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!valid){\n\t\t\t\tthis.showToast(\"请完善家庭成员信息后再提交\")\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'正在提交...'\n\t\t\t})\n\t\t\t\n\t\t\tlet params = {\n\t\t\t\tfamily_contact_name: uni.getStorageSync(getApp().globalData.key_family_contact),\n\t\t\t\tfamily_tel_num: uni.getStorageSync(getApp().globalData.key_tel),\n\t\t\t\tfamily_address: uni.getStorageSync(getApp().globalData.key_address),\n\t\t\t\tfamily_member_num: uni.getStorageSync(getApp().globalData.key_family_num),\n\t\t\t\tfamily_member_list: JSON.stringify(this.member_list)\n\t\t\t};\n\t\t\t\t\t\t\t\t\t\n\t\t\tthis.requestWithMethod(\n\t\t\t\tgetApp().globalData.api_create_family_info,\n\t\t\t\t\"POST\",\n\t\t\t\tparams,\n\t\t\t\tthis.successCallback,\n\t\t\t\tthis.failCallback,\n\t\t\t\tthis.completeCallback);\n\t\t},\n\t\tsuccessCallback(rsp) {\n\t\t\tuni.hideLoading();\n\t\t\tif (rsp.data.error === 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'提交成功'\n\t\t\t\t});\n\t\t\t\tuni.requestSubscribeMessage({\n\t\t\t\t  tmplIds: ['UUIzbUHXPhqQC5S3ujtGVE-5uta4PPTAilKewh9sf9o'],\n\t\t\t\t  success (res) {\n\t\t\t\t\t  console.log('subscribe msg: ');\n\t\t\t\t\t  console.log(res);\n\t\t\t\t  }\n\t\t\t\t})\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'./family_index'\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'操作失败'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tfailCallback(err) {\n\t\t\tuni.hideLoading();\n\t\t\tthis.showToast(err);\n\t\t\tconsole.log('api_create_family_info failed', err);\n\t\t},\n\t\tcompleteCallback(rsp) {},\r\n\t}\r\n};\r\n</script>\r\n\r\n<style></style>\n"],"sourceRoot":""}